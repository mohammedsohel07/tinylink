<!DOCTYPE html>
<html>
  <head>
    <title>Link Stats</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gray-100 min-h-screen p-6">
    <h1 class="text-3xl font-bold mb-6 text-center">ðŸ“Š Link Stats</h1>

    <div
      id="info"
      class="max-w-xl mx-auto bg-white p-6 rounded-xl shadow-md text-lg"
    >
      Loading...
    </div>

    <script>
      const code = new URLSearchParams(location.search).get("code");

      async function load() {
        const r = await fetch("/api/links/" + code);
        if (!r.ok) {
          document.getElementById("info").innerHTML =
            '<p class="text-red-600">Not Found</p>';
          return;
        }

        const d = await r.json();

        document.getElementById("info").innerHTML = `
    <p><b>Code:</b> ${d.code}</p>
    <p><b>Target URL:</b> ${d.target_url}</p>
    <p><b>Clicks:</b> ${d.clicks}</p>
    <p><b>Last Clicked:</b> ${d.last_clicked || "-"}</p>

    <a href="/" class="text-blue-600 mt-4 inline-block">â¬… Back to Dashboard</a>
  `;
      }

      load();
    </script>
  </body>
</html>
